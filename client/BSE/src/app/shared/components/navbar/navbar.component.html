<nav class="sticky top-0 z-50 bg-slate-900/95 backdrop-blur-sm border-b border-slate-800">
  <div class="container mx-auto px-4">
    <div class="flex items-center justify-between h-16 gap-4">
      <!-- Logo -->
      <a
        routerLink="/"
        (click)="closeMobileMenu()"
        class="flex items-center gap hover:opacity-80 transition-opacity z-50"
      >
        <img src="/cropped-finel-web-03.png" alt="BSE Logo" class="h-10" />
      </a>

      <!-- Desktop Navigation Links - Centered -->
      <div class="hidden lg:flex flex-1 items-center justify-center gap-6">
        <!-- Home Link -->
        <a
          routerLink="/"
          routerLinkActive="text-violet-400"
          [routerLinkActiveOptions]="{ exact: true }"
          class="text-slate-300 hover:text-violet-400 transition-colors font-medium"
        >
          Home
        </a>

        <!-- Blog Link -->
        <a
          routerLink="/blog"
          routerLinkActive="text-violet-400"
          class="text-slate-300 hover:text-violet-400 transition-colors font-medium"
        >
          Blog
        </a>

        <!-- About Link -->
        <a
          href="#about"
          (click)="scrollToSection($event, 'about')"
          class="text-slate-300 hover:text-violet-400 transition-colors font-medium cursor-pointer"
        >
          About
        </a>

        <!-- Services Link -->
        <a
          href="#services"
          (click)="scrollToSection($event, 'services')"
          class="text-slate-300 hover:text-violet-400 transition-colors font-medium cursor-pointer"
        >
          Services
        </a>
      </div>

      <!-- Desktop Auth Links - Right side -->
      <div class="hidden lg:flex items-center gap-6">
        <!-- Authenticated User Links -->
        @if (authService.isAuthenticated()) {
          <!-- Admin Dashboard (if admin role) -->
          @if (authService.userRole() === 'Admin') {
            <a
              routerLink="/admin"
              routerLinkActive="text-violet-400"
              class="text-slate-300 hover:text-violet-400 transition-colors font-medium"
            >
              Dashboard
            </a>
          }

          <!-- User Profile/Logout -->
          <div class="flex items-center gap-4">
            <span class="text-slate-400 text-sm">
              {{ authService.currentUser()?.fullName }}
            </span>
            <button
              (click)="authService.signOut()"
              class="px-4 py-2 text-sm bg-slate-800 hover:bg-slate-700
                     text-slate-200 rounded-lg transition-colors"
            >
              Sign Out
            </button>
          </div>
        }
        <!-- Guest User Links -->
        @else {
          <a
            routerLink="/auth/signin"
            class="text-slate-300 hover:text-violet-400 transition-colors font-medium"
          >
            Sign In
          </a>
          <a
            routerLink="/auth/signup"
            class="px-4 py-2 bg-violet-600 hover:bg-violet-500 text-white
                   rounded-lg font-medium transition-colors"
          >
            Sign Up
          </a>
        }
      </div>

      <!-- Mobile Menu Button -->
      <button
        (click)="toggleMobileMenu()"
        class="lg:hidden z-50 p-2 text-slate-300 hover:text-violet-400 transition-colors"
        [attr.aria-label]="isMobileMenuOpen ? 'Close menu' : 'Open menu'"
        [attr.aria-expanded]="isMobileMenuOpen"
      >
        <svg
          class="w-6 h-6"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          @if (!isMobileMenuOpen) {
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M4 6h16M4 12h16M4 18h16"
            />
          } @else {
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M6 18L18 6M6 6l12 12"
            />
          }
        </svg>
      </button>
    </div>

    <!-- Mobile Menu -->
    @if (isMobileMenuOpen) {
      <div class="lg:hidden fixed inset-0 top-16 bg-slate-900/98 backdrop-blur-sm z-40">
        <div class="flex flex-col p-4 space-y-4">
          <!-- Mobile Navigation Links -->
          <a
            routerLink="/"
            routerLinkActive="text-violet-400"
            [routerLinkActiveOptions]="{ exact: true }"
            (click)="closeMobileMenu()"
            class="text-slate-300 hover:text-violet-400 transition-colors font-medium py-2 px-4 rounded-lg hover:bg-slate-800"
          >
            Home
          </a>

          <a
            routerLink="/blog"
            routerLinkActive="text-violet-400"
            (click)="closeMobileMenu()"
            class="text-slate-300 hover:text-violet-400 transition-colors font-medium py-2 px-4 rounded-lg hover:bg-slate-800"
          >
            Blog
          </a>

          <a
            href="#about"
            (click)="scrollToSection($event, 'about')"
            class="text-slate-300 hover:text-violet-400 transition-colors font-medium cursor-pointer py-2 px-4 rounded-lg hover:bg-slate-800"
          >
            About
          </a>

          <a
            href="#services"
            (click)="scrollToSection($event, 'services')"
            class="text-slate-300 hover:text-violet-400 transition-colors font-medium cursor-pointer py-2 px-4 rounded-lg hover:bg-slate-800"
          >
            Services
          </a>

          <!-- Mobile Auth Links -->
          <div class="border-t border-slate-800 pt-4 mt-4">
            @if (authService.isAuthenticated()) {
              @if (authService.userRole() === 'Admin') {
                <a
                  routerLink="/admin"
                  routerLinkActive="text-violet-400"
                  (click)="closeMobileMenu()"
                  class="block text-slate-300 hover:text-violet-400 transition-colors font-medium py-2 px-4 rounded-lg hover:bg-slate-800 mb-2"
                >
                  Dashboard
                </a>
              }

              <div class="px-4 py-2 text-slate-400 text-sm mb-2">
                {{ authService.currentUser()?.fullName }}
              </div>

              <button
                (click)="authService.signOut(); closeMobileMenu()"
                class="w-full px-4 py-2 text-sm bg-slate-800 hover:bg-slate-700
                       text-slate-200 rounded-lg transition-colors"
              >
                Sign Out
              </button>
            } @else {
              <a
                routerLink="/auth/signin"
                (click)="closeMobileMenu()"
                class="block text-slate-300 hover:text-violet-400 transition-colors font-medium py-2 px-4 rounded-lg hover:bg-slate-800 mb-2"
              >
                Sign In
              </a>
              <a
                routerLink="/auth/signup"
                (click)="closeMobileMenu()"
                class="block px-4 py-2 bg-violet-600 hover:bg-violet-500 text-white text-center
                       rounded-lg font-medium transition-colors"
              >
                Sign Up
              </a>
            }
          </div>
        </div>
      </div>
    }
  </div>
</nav>
