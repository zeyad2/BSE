<div class="container mx-auto px-4 py-12 max-w-7xl">
  <!-- Page Title -->
  <h1 class="text-4xl md:text-5xl font-bold text-slate-100 mb-8">
    Latest Blog Posts
  </h1>

  <!-- Error Message (if any) -->
  <app-error-message [message]="blogService.error()" />

  <!-- Loading State -->
  @if (blogService.isLoading()) {
    <app-loading-spinner [size]="60" containerClass="py-20" />
  }
  <!-- Loaded: Show Blogs -->
  @else if (blogService.blogs().length > 0) {
    <!-- Blog Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
      <!--
        @for Loop - New Angular 17+ syntax
        REQUIRES track function for performance
        track blog.id tells Angular which items changed
      -->
      @for (blog of blogService.blogs(); track blog.id) {
        <app-blog-card [blog]="blog" />
      }
    </div>

    <!-- Pagination Controls -->
    <app-pagination
      [currentPage]="blogService.currentPage()"
      [totalPages]="blogService.totalPages()"
      [hasNext]="blogService.hasNextPage()"
      [hasPrevious]="blogService.hasPreviousPage()"
      (next)="blogService.nextPage()"
      (previous)="blogService.previousPage()"
    />
  }
  <!-- Empty State -->
  @else {
    <div class="text-center py-20 text-slate-400">
      <p class="text-xl">No blog posts found.</p>
      <p class="text-sm mt-2">Check back later for new content!</p>
    </div>
  }
</div>
